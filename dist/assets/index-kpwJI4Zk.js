import{_ as h,u as b,r as l,o as m,c as g,a as T,b as o,t as i,F as x,f as w,e as A,s as $}from"./index-n9atX4sB.js";import{c as r}from"./contentfulClient-cIsO_rlL.js";const k={class:"wrapper"},B={class:"content"},E={id:"title"},I={id:"date"},L=["innerHTML"],M={__name:"index",setup(N){const u=b(),p=a=>{u.add({severity:"error",summary:"An error occured",detail:a,life:2e3})},y=w(),_=l(y.path.split("/")[2]),t=l({title:"",body:"",date:""});async function v(a){const n=a.fields;var e={title:n.entryName,body:"",date:a.sys.updatedAt.split("T")[0]};t.value.title=e.title;for(var c=0;c<n.article.content.length;c++){const s=n.article.content[c];if(s.nodeType==="heading-1")e.body+=`<h2>${s.content[0].value}</h2>`,t.value.body=e.body,t.value.date=e.date;else if(s.nodeType==="paragraph")e.body+=`<p>${s.content[0].value}</p>`,t.value.body=e.body,t.value.date=e.date;else if(s.nodeType==="embedded-asset-block"){const f=s.data.target.sys.id;await r.getAsset(f).then(d=>{e.body+=`<div style="display: flex;justify-content:center;"><img style="width:60%;" src="${d.fields.file.url}" alt="${d.fields.file.title}"></div>`,t.value.body=e.body,t.value.date=e.date}).catch(d=>{console.error(d)})}}}return m(()=>{r.getEntry(_.value).then(a=>{v(a)}).catch(a=>{console.error(a),p(a)})}),(a,n)=>{const e=$;return A(),g(x,null,[T(e),o("div",k,[o("div",B,[o("h1",E,i(t.value.title),1),o("p",I,"Last Updated On: "+i(t.value.date),1)]),o("div",{class:"content",innerHTML:t.value.body},null,8,L)])],64)}}},V=h(M,[["__scopeId","data-v-aa443123"]]);export{V as default};
